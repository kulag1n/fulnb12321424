<button class="order-btn" onclick="showForm(this)">–ó–∞–∫–∞–∑–∞—Ç—å</button>
           <div class="popup-form" style="display: none;">
  <h3>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</h3>
  <input type="text" placeholder="–í–∞—à–µ –∏–º—è" class="form-name" required>
  <input type="tel" placeholder="–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" class="form-phone" required>
  <input type="number" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞" min="1" class="form-qty" required>
  <button class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>
          </div>
        </div>
<script>
function showForm(button) {
  const form = button.nextElementSibling;
  form.style.display = form.style.display === "none" ? "block" : "none";
}

document.querySelectorAll(".send-btn").forEach(btn => {
  btn.addEventListener("click", function () {
    const form = this.parentElement;
    const name = form.querySelector(".form-name").value;
    const phone = form.querySelector(".form-phone").value;
    const qty = form.querySelector(".form-qty").value;

    // –ë–µ—Ä—ë–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ data-title –∫–∞—Ä—Ç–æ—á–∫–∏
    const productCard = this.closest(".product-card");
    const productTitle = productCard.getAttribute("data-title");

    const message = `ü™ë –ó–∞–∫–∞–∑: ${productTitle}\nüë§ –ò–º—è: ${name}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\nüì¶ –ö–æ–ª-–≤–æ: ${qty}`;

    const token = "8304031756:AAGaZ5JnDGq9o7bpaKpDCaTYR1G7_xun1kE";
    const chat_id = "1303382989";

    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id, text: message })
    })
    .then(() => {
      alert("‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
      form.style.display = "none";
      form.querySelectorAll("input").forEach(i => i.value = "");
    })
    .catch(() => alert("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏."));
  });
});
</script>
